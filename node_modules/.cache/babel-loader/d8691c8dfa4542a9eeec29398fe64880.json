{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/Dev/React Class/speedtype/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import\"./App.css\";// import useGameLogic from \"./hooks/useGameLogic\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// function useGameLogic(startingTime = 10) {\nvar startingTime=5;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(startingTime),_useState4=_slicedToArray(_useState3,2),timeRemaining=_useState4[0],setTimeRemaining=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),gameStart=_useState6[0],setGameStart=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),wordCount=_useState8[0],setWordCount=_useState8[1];var inputRef=useRef(null);function formValue(e){var value=e.target.value;setFormData(value);// console.log(value);\n}function calculateWordCount(text){var wordArray=text.trim().split(\" \");//trim out excess space int the beging and ending of the text\n//then split into array\nvar filteredWords=wordArray.filter(function(word){return word!==\"\";});return filteredWords.length;}function startGame(){inputRef.current.focus();setTimeRemaining(startingTime);setGameStart(true);setFormData(\"\");//console.log(inputRef.current);\n//i had to set the DOM to not disabled before the ref.current.focus works\ninputRef.current.disabled=false;inputRef.current.focus();}function endGame(){setGameStart(false);setWordCount(calculateWordCount(formData));}useEffect(function(){//wait one second and decriment the timer state\nif(timeRemaining>0&&gameStart){setTimeout(function(){setTimeRemaining(function(time){return time-1;});},1000);}else if(timeRemaining===0){endGame();//const wordCounter = wordCount(formData);\n}},[timeRemaining,gameStart]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"How fast do you type?\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:formData,onChange:formValue,disabled:!gameStart}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"TIme Remaining: \",timeRemaining,\" seconds\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:startGame,disabled:gameStart,children:\"Start Game\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Word Count: \",wordCount]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","App","startingTime","formData","setFormData","timeRemaining","setTimeRemaining","gameStart","setGameStart","wordCount","setWordCount","inputRef","formValue","e","value","target","calculateWordCount","text","wordArray","trim","split","filteredWords","filter","word","length","startGame","current","focus","disabled","endGame","setTimeout","time"],"sources":["/Users/mac/Documents/Dev/React Class/speedtype/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\n// import useGameLogic from \"./hooks/useGameLogic\";\n\nfunction App() {\n  // function useGameLogic(startingTime = 10) {\n  const startingTime = 5;\n  const [formData, setFormData] = useState(\"\");\n  const [timeRemaining, setTimeRemaining] = useState(startingTime);\n  const [gameStart, setGameStart] = useState(false);\n  const [wordCount, setWordCount] = useState(0);\n  const inputRef = useRef(null);\n\n  function formValue(e) {\n    const { value } = e.target;\n    setFormData(value);\n    // console.log(value);\n  }\n\n  function calculateWordCount(text) {\n    const wordArray = text.trim().split(\" \");\n    //trim out excess space int the beging and ending of the text\n    //then split into array\n    const filteredWords = wordArray.filter((word) => word !== \"\");\n    return filteredWords.length;\n  }\n\n  function startGame() {\n    inputRef.current.focus();\n    setTimeRemaining(startingTime);\n    setGameStart(true);\n    setFormData(\"\");\n    //console.log(inputRef.current);\n    //i had to set the DOM to not disabled before the ref.current.focus works\n    inputRef.current.disabled = false;\n    inputRef.current.focus();\n  }\n  function endGame() {\n    setGameStart(false);\n    setWordCount(calculateWordCount(formData));\n  }\n\n  useEffect(() => {\n    //wait one second and decriment the timer state\n    if (timeRemaining > 0 && gameStart) {\n      setTimeout(() => {\n        setTimeRemaining((time) => time - 1);\n      }, 1000);\n    } else if (timeRemaining === 0) {\n      endGame();\n      //const wordCounter = wordCount(formData);\n    }\n  }, [timeRemaining, gameStart]);\n\n  return (\n    <div>\n      <h1>How fast do you type?</h1>\n      <textarea\n        ref={inputRef}\n        value={formData}\n        onChange={formValue}\n        disabled={!gameStart}\n      />\n      <h4>TIme Remaining: {timeRemaining} seconds</h4>\n      {/* we passed in the state into the function on click  */}\n      <button onClick={startGame} disabled={gameStart}>\n        Start Game\n      </button>\n      <h1>Word Count: {wordCount}</h1>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"oIAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAO,WAAP,CACA;wFAEA,QAASC,IAAT,EAAe,CACb;AACA,GAAMC,aAAY,CAAG,CAArB,CACA,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA0CN,QAAQ,CAACI,YAAD,CAAlD,yCAAOG,aAAP,eAAsBC,gBAAtB,eACA,eAAkCR,QAAQ,CAAC,KAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAkCV,QAAQ,CAAC,CAAD,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eACA,GAAMC,SAAQ,CAAGX,MAAM,CAAC,IAAD,CAAvB,CAEA,QAASY,UAAT,CAAmBC,CAAnB,CAAsB,CACpB,GAAQC,MAAR,CAAkBD,CAAC,CAACE,MAApB,CAAQD,KAAR,CACAV,WAAW,CAACU,KAAD,CAAX,CACA;AACD,CAED,QAASE,mBAAT,CAA4BC,IAA5B,CAAkC,CAChC,GAAMC,UAAS,CAAGD,IAAI,CAACE,IAAL,GAAYC,KAAZ,CAAkB,GAAlB,CAAlB,CACA;AACA;AACA,GAAMC,cAAa,CAAGH,SAAS,CAACI,MAAV,CAAiB,SAACC,IAAD,QAAUA,KAAI,GAAK,EAAnB,EAAjB,CAAtB,CACA,MAAOF,cAAa,CAACG,MAArB,CACD,CAED,QAASC,UAAT,EAAqB,CACnBd,QAAQ,CAACe,OAAT,CAAiBC,KAAjB,GACArB,gBAAgB,CAACJ,YAAD,CAAhB,CACAM,YAAY,CAAC,IAAD,CAAZ,CACAJ,WAAW,CAAC,EAAD,CAAX,CACA;AACA;AACAO,QAAQ,CAACe,OAAT,CAAiBE,QAAjB,CAA4B,KAA5B,CACAjB,QAAQ,CAACe,OAAT,CAAiBC,KAAjB,GACD,CACD,QAASE,QAAT,EAAmB,CACjBrB,YAAY,CAAC,KAAD,CAAZ,CACAE,YAAY,CAACM,kBAAkB,CAACb,QAAD,CAAnB,CAAZ,CACD,CAEDJ,SAAS,CAAC,UAAM,CACd;AACA,GAAIM,aAAa,CAAG,CAAhB,EAAqBE,SAAzB,CAAoC,CAClCuB,UAAU,CAAC,UAAM,CACfxB,gBAAgB,CAAC,SAACyB,IAAD,QAAUA,KAAI,CAAG,CAAjB,EAAD,CAAhB,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAJD,IAIO,IAAI1B,aAAa,GAAK,CAAtB,CAAyB,CAC9BwB,OAAO,GACP;AACD,CACF,CAVQ,CAUN,CAACxB,aAAD,CAAgBE,SAAhB,CAVM,CAAT,CAYA,mBACE,oCACE,6CADF,cAEE,iBACE,GAAG,CAAEI,QADP,CAEE,KAAK,CAAER,QAFT,CAGE,QAAQ,CAAES,SAHZ,CAIE,QAAQ,CAAE,CAACL,SAJb,EAFF,cAQE,yCAAqBF,aAArB,cARF,cAUE,eAAQ,OAAO,CAAEoB,SAAjB,CAA4B,QAAQ,CAAElB,SAAtC,wBAVF,cAaE,qCAAiBE,SAAjB,GAbF,GADF,CAiBD,CAED,cAAeR,IAAf"},"metadata":{},"sourceType":"module"}